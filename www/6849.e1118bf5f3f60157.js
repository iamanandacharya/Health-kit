"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6849],{6849:(_,h,l)=>{l.r(h),l.d(h,{Tab1PageModule:()=>H});var a=l(7852),s=l(6814),g=l(95),d=l(3554),c=l(5785),t=l(6689),p=l(2078);function T(e,o){1&e&&(t.TgZ(0,"ion-card")(1,"ion-card-header"),t._uU(2,"No data"),t.qZA()())}function y(e,o){if(1&e&&(t.TgZ(0,"ion-card")(1,"ion-card-header"),t._uU(2),t.qZA(),t.TgZ(3,"ion-card-content")(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()()()),2&e){const i=o.$implicit;t.xp6(2),t.Oqu(i.calories||""),t.xp6(3),t.hij("Activity: ",i.activityType||"",""),t.xp6(2),t.hij("Duration: ",i.duration/100||""," min"),t.xp6(2),t.hij("Date: ",t.xi3(10,5,i.startDate,"short"),""),t.xp6(3),t.hij("Distance: ",i.miles||""," miles")}}function f(e,o){if(1&e&&(t.TgZ(0,"ion-list"),t.YNc(1,y,13,8,"ion-card",9),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.workouts)}}const m=[{path:"",component:(()=>{class e{constructor(i,n){this.healthKit=i,this.plt=n,this.currentHeight="No Data",this.stepcount="No Data",this.workouts=[]}ngOnInit(){this.getHeathKitData()}getHeathKitData(){this.plt.ready().then(()=>{this.healthKit.available().then(i=>{i&&this.healthKit.requestAuthorization({readTypes:["HKQuantityTypeIdentifierHeight","HKWorkoutTypeIdentifier","HKQuantityTypeIdentifierActiveEnergyBurned","HKQuantityTypeIdentifierDistanceCycling"],writeTypes:["HKQuantityTypeIdentifierHeight","HKWorkoutTypeIdentifier","HKQuantityTypeIdentifierActiveEnergyBurned","HKQuantityTypeIdentifierDistanceCycling"]}).then(u=>{this.loadHealthData()})})})}saveHeight(){this.healthKit.saveHeight({unit:"cm",amount:this.height}).then(i=>{this.height=null,this.loadHealthData()})}saveWorkout(){this.healthKit.saveWorkout({activityType:"HKWorkoutActivityTypeCycling",quantityType:"HKQuantityTypeIdentifierDistanceCycling",startDate:new Date,endDate:null,duration:6e3,energy:400,energyUnit:"kcal",distance:5,distanceUnit:"km"}).then(n=>{this.loadHealthData()})}loadHealthData(){this.healthKit.readHeight({unit:"cm"}).then(n=>{this.currentHeight=n.value});var i={startDate:new Date((new Date).getTime()-864e5),endDate:new Date,sampleType:"HKQuantityTypeIdentifierStepCount",unit:"count"};this.healthKit.querySampleType(i).then(n=>{let u=n.reduce((r,b)=>r+b.quantity,0);this.stepcount=u},n=>{console.log("No steps: ",n)}),this.healthKit.findWorkouts().then(n=>{this.workouts=n},n=>{console.log("no workouts: ",n),this.workouts=n})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(p.h),t.Y36(a.t4))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tab1"]],decls:27,vars:7,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["stacked",""],["type","text","placeholder","My Height today (in cm)",3,"ngModel","ngModelChange"],["type","text","readonly","",3,"ngModel","ngModelChange"],["ion-button","","full","",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(i,n){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," Tab 1 "),t.qZA()()(),t.TgZ(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),t._uU(8,"Tab 1"),t.qZA()()(),t.TgZ(9,"ion-item")(10,"ion-label",4),t._uU(11,"Set Height"),t.qZA(),t.TgZ(12,"ion-input",5),t.NdJ("ngModelChange",function(r){return n.height=r}),t.qZA()(),t.TgZ(13,"ion-item")(14,"ion-label",4),t._uU(15,"Current Height"),t.qZA(),t.TgZ(16,"ion-input",6),t.NdJ("ngModelChange",function(r){return n.currentHeight=r}),t.qZA()(),t.TgZ(17,"ion-item")(18,"ion-label",4),t._uU(19,"Steps last 24h"),t.qZA(),t.TgZ(20,"ion-input",6),t.NdJ("ngModelChange",function(r){return n.stepcount=r}),t.qZA()(),t.TgZ(21,"button",7),t.NdJ("click",function(){return n.saveHeight()}),t._uU(22,"Set Height"),t.qZA(),t.TgZ(23,"button",7),t.NdJ("click",function(){return n.saveWorkout()}),t._uU(24,"Set a Workout"),t.qZA(),t.YNc(25,T,3,0,"ion-card",8),t.YNc(26,f,2,1,"ion-list",8),t.qZA()),2&i&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("ngModel",n.height),t.xp6(4),t.Q6J("ngModel",n.currentHeight),t.xp6(4),t.Q6J("ngModel",n.stepcount),t.xp6(5),t.Q6J("ngIf",0==n.workouts.length),t.xp6(1),t.Q6J("ngIf",0!=n.workouts.length))},dependencies:[a.PM,a.FN,a.Zi,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.q_,a.wd,a.sr,a.j9,s.sg,s.O5,g.JJ,g.On,s.uU]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(m),c.Bz]}),e})(),H=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Pc,s.ez,g.u5,d.e,Z]}),e})()}}]);